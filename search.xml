<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Typora简单介绍</title>
      <link href="/2019/05/21/tools-typora/"/>
      <url>/2019/05/21/tools-typora/</url>
      
        <content type="html"><![CDATA[<h1 id="Typora"><a href="#Typora" class="headerlink" title="Typora"></a>Typora</h1><h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><ul><li>Typora 删除了预览窗口，取而代之的是实时预览</li><li>Markdown的语法因不同的解析器或编辑器而异，Typora使用的是<a href="https://help.github.com/articles/basic-writing-and-formatting-syntax/" target="_blank" rel="noopener">GitHub Flavored Markdown</a>。</li></ul><h2 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h2><p>Typora<a href="https://www.typora.io/#download" target="_blank" rel="noopener">下载</a>地址</p><h2 id="常用快捷键"><a href="#常用快捷键" class="headerlink" title="常用快捷键"></a>常用快捷键</h2><ul><li>加粗: <code>Ctrl + B</code></li><li>标题: <code>Ctrl + 0/1/2/..</code></li><li>插入链接：<code>Ctrl + k</code></li><li>行内代码:  <code>Ctrl + Shift +</code> ` </li><li>有序列表： <code>Ctrl + Shift +]</code></li><li>无序列表：<code>Ctrl + Shift + [</code></li><li>插入图片：<code>Ctrl + Shift +I</code></li><li>撤销:  <code>Ctrl + z</code></li><li>公式快：<code>Ctrl + Shift + M</code></li><li>代码块：<code>Ctrl + Shift + K</code></li></ul><h2 id="块元素"><a href="#块元素" class="headerlink" title="块元素"></a>块元素</h2><h2 id="数学公式"><a href="#数学公式" class="headerlink" title="数学公式"></a>数学公式</h2><p>开头$$+换行键，产生输入区域，输入Tex/LaTex格式的数学公式，代码和效果如下图：</p><blockquote><p>\Gamma(z) = \int_0^\infty t{z-1}e{-t}dt,. </p></blockquote><p>$$<br> \Gamma(z) = \int_0^\infty t{z-1}e{-t}dt,.<br>$$</p><h2 id="脚注"><a href="#脚注" class="headerlink" title="脚注"></a>脚注</h2><pre class="line-numbers language-c"><code class="language-c">脚注产生的方法<span class="token punctuation">[</span><span class="token operator">^</span>footnote<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token punctuation">[</span><span class="token operator">^</span>footnote<span class="token punctuation">]</span><span class="token punctuation">:</span>这个就是<span class="token string">"脚注"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h2 id="插入表情"><a href="#插入表情" class="headerlink" title="插入表情"></a>插入表情</h2><pre class="line-numbers language-c"><code class="language-c">以<span class="token punctuation">:</span>开始，然后输入表情的英文单词例如：<span class="token punctuation">:</span>happy<span class="token punctuation">:</span>sad<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h2 id="生成目录"><a href="#生成目录" class="headerlink" title="生成目录"></a>生成目录</h2><pre class="line-numbers language-c"><code class="language-c"><span class="token punctuation">[</span>TOC<span class="token punctuation">]</span>按住回车<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Typora </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SR评价指标</title>
      <link href="/2019/05/20/python-sr-ping-jie-zhi-biao/"/>
      <url>/2019/05/20/python-sr-ping-jie-zhi-biao/</url>
      
        <content type="html"><![CDATA[<h3 id="针对super-resolution任务中的评价指标，针对pytorch框架和最近常用的EDSR代码，做一个简单的总结。在EDSR代码中，为了测试的准确性，是先将SR图片生成保存起来，然后用matlab代码进行计算，并且是在y通道上进行计算psnr和ssim，但是这样可能会费时间，所以这里直接集成在python代码中，最终计算出来的结果和matlab代码计算出来的结果是一样的。"><a href="#针对super-resolution任务中的评价指标，针对pytorch框架和最近常用的EDSR代码，做一个简单的总结。在EDSR代码中，为了测试的准确性，是先将SR图片生成保存起来，然后用matlab代码进行计算，并且是在y通道上进行计算psnr和ssim，但是这样可能会费时间，所以这里直接集成在python代码中，最终计算出来的结果和matlab代码计算出来的结果是一样的。" class="headerlink" title="针对super resolution任务中的评价指标，针对pytorch框架和最近常用的EDSR代码，做一个简单的总结。在EDSR代码中，为了测试的准确性，是先将SR图片生成保存起来，然后用matlab代码进行计算，并且是在y通道上进行计算psnr和ssim，但是这样可能会费时间，所以这里直接集成在python代码中，最终计算出来的结果和matlab代码计算出来的结果是一样的。"></a>针对super resolution任务中的评价指标，针对pytorch框架和最近常用的EDSR代码，做一个简单的总结。在EDSR代码中，为了测试的准确性，是先将SR图片生成保存起来，然后用matlab代码进行计算，并且是在y通道上进行计算psnr和ssim，但是这样可能会费时间，所以这里直接集成在python代码中，最终计算出来的结果和matlab代码计算出来的结果是一样的。</h3><pre class="line-numbers language-python"><code class="language-python"><span class="token number">1</span>、使用预训练模型生成SR图片：sr <span class="token operator">=</span> self<span class="token punctuation">.</span>model<span class="token punctuation">(</span>lr<span class="token punctuation">,</span> idx_scale<span class="token punctuation">)</span><span class="token number">2</span>、然后将tensor转化为numpy<span class="token punctuation">:</span>visuals <span class="token operator">=</span> utility<span class="token punctuation">.</span>get_current_visual<span class="token punctuation">(</span>lr<span class="token punctuation">,</span> hr<span class="token punctuation">,</span> sr<span class="token punctuation">,</span> self<span class="token punctuation">.</span>args<span class="token punctuation">.</span>rgb_range<span class="token punctuation">)</span>其中：get_current_visual<span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">get_current_visual</span><span class="token punctuation">(</span>lr<span class="token punctuation">,</span> hr <span class="token punctuation">,</span>sr<span class="token punctuation">,</span> rgb_range<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token triple-quoted-string string">"""    return LR SR (HR) images    """</span>    out_dict <span class="token operator">=</span> OrderedDict<span class="token punctuation">(</span><span class="token punctuation">)</span>    out_dict<span class="token punctuation">[</span><span class="token string">'LR'</span><span class="token punctuation">]</span> <span class="token operator">=</span> lr<span class="token punctuation">.</span>data<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>float<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>cpu<span class="token punctuation">(</span><span class="token punctuation">)</span>    out_dict<span class="token punctuation">[</span><span class="token string">'SR'</span><span class="token punctuation">]</span> <span class="token operator">=</span> sr<span class="token punctuation">.</span>data<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>float<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>cpu<span class="token punctuation">(</span><span class="token punctuation">)</span>    out_dict<span class="token punctuation">[</span><span class="token string">'HR'</span><span class="token punctuation">]</span> <span class="token operator">=</span> hr<span class="token punctuation">.</span>data<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>float<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>cpu<span class="token punctuation">(</span><span class="token punctuation">)</span>    out_dict<span class="token punctuation">[</span><span class="token string">'LR'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> out_dict<span class="token punctuation">[</span><span class="token string">'HR'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> out_dict<span class="token punctuation">[</span><span class="token string">'SR'</span><span class="token punctuation">]</span> <span class="token operator">=</span> \    Tensor2np<span class="token punctuation">(</span><span class="token punctuation">[</span>out_dict<span class="token punctuation">[</span><span class="token string">'LR'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> out_dict<span class="token punctuation">[</span><span class="token string">'HR'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> out_dict<span class="token punctuation">[</span><span class="token string">'SR'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> rgb_range<span class="token punctuation">)</span>    <span class="token keyword">return</span> out_dict<span class="token keyword">def</span> <span class="token function">Tensor2np</span><span class="token punctuation">(</span>tensor_list<span class="token punctuation">,</span> rgb_range<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">_Tensor2numpy</span><span class="token punctuation">(</span>tensor<span class="token punctuation">,</span> rgb_range<span class="token punctuation">)</span><span class="token punctuation">:</span>        array <span class="token operator">=</span> np<span class="token punctuation">.</span>transpose<span class="token punctuation">(</span>quantize<span class="token punctuation">(</span>tensor<span class="token punctuation">,</span> rgb_range<span class="token punctuation">)</span><span class="token punctuation">.</span>numpy<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>astype<span class="token punctuation">(</span>np<span class="token punctuation">.</span>uint8<span class="token punctuation">)</span>        <span class="token keyword">return</span> array    <span class="token keyword">return</span> <span class="token punctuation">[</span>_Tensor2numpy<span class="token punctuation">(</span>tensor<span class="token punctuation">,</span> rgb_range<span class="token punctuation">)</span> <span class="token keyword">for</span> tensor <span class="token keyword">in</span> tensor_list<span class="token punctuation">]</span><span class="token keyword">def</span> <span class="token function">quantize</span><span class="token punctuation">(</span>img<span class="token punctuation">,</span> rgb_range<span class="token punctuation">)</span><span class="token punctuation">:</span>    pixel_range <span class="token operator">=</span> <span class="token number">255</span> <span class="token operator">/</span> rgb_range    <span class="token keyword">return</span> img<span class="token punctuation">.</span>mul<span class="token punctuation">(</span>pixel_range<span class="token punctuation">)</span><span class="token punctuation">.</span>clamp<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">.</span>round<span class="token number">3</span>、计算psnr和ssim值psnr<span class="token punctuation">,</span> ssim <span class="token operator">=</span> utility<span class="token punctuation">.</span>calc_metrics<span class="token punctuation">(</span>visuals<span class="token punctuation">[</span><span class="token string">'SR'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> visuals<span class="token punctuation">[</span><span class="token string">'HR'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> crop_border<span class="token operator">=</span>scale<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>重点在于计算PSNR值和SSIM值：</strong></p><pre class="line-numbers language-python"><code class="language-python">将RGB通道图片转换为yCbCr<span class="token keyword">def</span> <span class="token function">rgb2ycbcr</span><span class="token punctuation">(</span>img<span class="token punctuation">,</span> only_y<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token triple-quoted-string string">'''same as matlab rgb2ycbcr    only_y: only return Y channel    Input:        uint8, [0, 255]        float, [0, 1]    '''</span>    in_img_type <span class="token operator">=</span> img<span class="token punctuation">.</span>dtype    img<span class="token punctuation">.</span>astype<span class="token punctuation">(</span>np<span class="token punctuation">.</span>float32<span class="token punctuation">)</span>    <span class="token keyword">if</span> in_img_type <span class="token operator">!=</span> np<span class="token punctuation">.</span>uint8<span class="token punctuation">:</span>        img <span class="token operator">*=</span> <span class="token number">255</span><span class="token punctuation">.</span>    <span class="token comment" spellcheck="true"># convert</span>    <span class="token keyword">if</span> only_y<span class="token punctuation">:</span>        rlt <span class="token operator">=</span> np<span class="token punctuation">.</span>dot<span class="token punctuation">(</span>img<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">65.481</span><span class="token punctuation">,</span> <span class="token number">128.553</span><span class="token punctuation">,</span> <span class="token number">24.966</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">255.0</span> <span class="token operator">+</span> <span class="token number">16.0</span>    <span class="token keyword">else</span><span class="token punctuation">:</span>        rlt <span class="token operator">=</span> np<span class="token punctuation">.</span>matmul<span class="token punctuation">(</span>img<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">65.481</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">37.797</span><span class="token punctuation">,</span> <span class="token number">112.0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">128.553</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">74.203</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">93.786</span><span class="token punctuation">]</span><span class="token punctuation">,</span>                                <span class="token punctuation">[</span><span class="token number">24.966</span><span class="token punctuation">,</span> <span class="token number">112.0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">18.214</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">255.0</span> <span class="token operator">+</span> <span class="token punctuation">[</span><span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">128</span><span class="token punctuation">,</span> <span class="token number">128</span><span class="token punctuation">]</span>    <span class="token keyword">if</span> in_img_type <span class="token operator">==</span> np<span class="token punctuation">.</span>uint8<span class="token punctuation">:</span>        rlt <span class="token operator">=</span> rlt<span class="token punctuation">.</span>round<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">else</span><span class="token punctuation">:</span>        rlt <span class="token operator">/=</span> <span class="token number">255</span><span class="token punctuation">.</span>    <span class="token keyword">return</span> rlt<span class="token punctuation">.</span>astype<span class="token punctuation">(</span>in_img_type<span class="token punctuation">)</span><span class="token comment" spellcheck="true">#########################calc_metrics#############################</span><span class="token keyword">def</span> <span class="token function">calc_metrics</span><span class="token punctuation">(</span>img1<span class="token punctuation">,</span> img2<span class="token punctuation">,</span> crop_border<span class="token punctuation">,</span> test_Y<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment" spellcheck="true">#</span>    img1 <span class="token operator">=</span> img1 <span class="token operator">/</span> <span class="token number">255</span><span class="token punctuation">.</span>    img2 <span class="token operator">=</span> img2 <span class="token operator">/</span> <span class="token number">255</span><span class="token punctuation">.</span>    <span class="token keyword">if</span> test_Y <span class="token operator">and</span> img1<span class="token punctuation">.</span>shape<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">:</span>  <span class="token comment" spellcheck="true"># evaluate on Y channel in YCbCr color space</span>        im1_in <span class="token operator">=</span> rgb2ycbcr<span class="token punctuation">(</span>img1<span class="token punctuation">)</span>        im2_in <span class="token operator">=</span> rgb2ycbcr<span class="token punctuation">(</span>img2<span class="token punctuation">)</span>    <span class="token keyword">else</span><span class="token punctuation">:</span>        im1_in <span class="token operator">=</span> img1        im2_in <span class="token operator">=</span> img2    <span class="token keyword">if</span> im1_in<span class="token punctuation">.</span>ndim <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">:</span>        cropped_im1 <span class="token operator">=</span> im1_in<span class="token punctuation">[</span>crop_border<span class="token punctuation">:</span><span class="token operator">-</span>crop_border<span class="token punctuation">,</span> crop_border<span class="token punctuation">:</span><span class="token operator">-</span>crop_border<span class="token punctuation">,</span> <span class="token punctuation">:</span><span class="token punctuation">]</span>        cropped_im2 <span class="token operator">=</span> im2_in<span class="token punctuation">[</span>crop_border<span class="token punctuation">:</span><span class="token operator">-</span>crop_border<span class="token punctuation">,</span> crop_border<span class="token punctuation">:</span><span class="token operator">-</span>crop_border<span class="token punctuation">,</span> <span class="token punctuation">:</span><span class="token punctuation">]</span>    <span class="token keyword">elif</span> im1_in<span class="token punctuation">.</span>ndim <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">:</span>        cropped_im1 <span class="token operator">=</span> im1_in<span class="token punctuation">[</span>crop_border<span class="token punctuation">:</span><span class="token operator">-</span>crop_border<span class="token punctuation">,</span> crop_border<span class="token punctuation">:</span><span class="token operator">-</span>crop_border<span class="token punctuation">]</span>        cropped_im2 <span class="token operator">=</span> im2_in<span class="token punctuation">[</span>crop_border<span class="token punctuation">:</span><span class="token operator">-</span>crop_border<span class="token punctuation">,</span> crop_border<span class="token punctuation">:</span><span class="token operator">-</span>crop_border<span class="token punctuation">]</span>    <span class="token keyword">else</span><span class="token punctuation">:</span>        <span class="token keyword">raise</span> ValueError<span class="token punctuation">(</span><span class="token string">'Wrong image dimension: {}. Should be 2 or 3.'</span><span class="token punctuation">.</span>format<span class="token punctuation">(</span>im1_in<span class="token punctuation">.</span>ndim<span class="token punctuation">)</span><span class="token punctuation">)</span>    psnr <span class="token operator">=</span> calc_psnr<span class="token punctuation">(</span>cropped_im1 <span class="token operator">*</span> <span class="token number">255</span><span class="token punctuation">,</span> cropped_im2 <span class="token operator">*</span> <span class="token number">255</span><span class="token punctuation">)</span>    ssim <span class="token operator">=</span> calc_ssim<span class="token punctuation">(</span>cropped_im1 <span class="token operator">*</span> <span class="token number">255</span><span class="token punctuation">,</span> cropped_im2 <span class="token operator">*</span> <span class="token number">255</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> psnr<span class="token punctuation">,</span> ssim<span class="token keyword">def</span> <span class="token function">calc_psnr</span><span class="token punctuation">(</span>img1<span class="token punctuation">,</span> img2<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment" spellcheck="true"># img1 and img2 have range [0, 255]</span>    img1 <span class="token operator">=</span> img1<span class="token punctuation">.</span>astype<span class="token punctuation">(</span>np<span class="token punctuation">.</span>float64<span class="token punctuation">)</span>    img2 <span class="token operator">=</span> img2<span class="token punctuation">.</span>astype<span class="token punctuation">(</span>np<span class="token punctuation">.</span>float64<span class="token punctuation">)</span>    mse <span class="token operator">=</span> np<span class="token punctuation">.</span>mean<span class="token punctuation">(</span><span class="token punctuation">(</span>img1 <span class="token operator">-</span> img2<span class="token punctuation">)</span><span class="token operator">**</span><span class="token number">2</span><span class="token punctuation">)</span>    <span class="token keyword">if</span> mse <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> float<span class="token punctuation">(</span><span class="token string">'inf'</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> <span class="token number">20</span> <span class="token operator">*</span> math<span class="token punctuation">.</span>log10<span class="token punctuation">(</span><span class="token number">255.0</span> <span class="token operator">/</span> math<span class="token punctuation">.</span>sqrt<span class="token punctuation">(</span>mse<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">ssim</span><span class="token punctuation">(</span>img1<span class="token punctuation">,</span> img2<span class="token punctuation">)</span><span class="token punctuation">:</span>    C1 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">0.01</span> <span class="token operator">*</span> <span class="token number">255</span><span class="token punctuation">)</span><span class="token operator">**</span><span class="token number">2</span>    C2 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">0.03</span> <span class="token operator">*</span> <span class="token number">255</span><span class="token punctuation">)</span><span class="token operator">**</span><span class="token number">2</span>    img1 <span class="token operator">=</span> img1<span class="token punctuation">.</span>astype<span class="token punctuation">(</span>np<span class="token punctuation">.</span>float64<span class="token punctuation">)</span>    img2 <span class="token operator">=</span> img2<span class="token punctuation">.</span>astype<span class="token punctuation">(</span>np<span class="token punctuation">.</span>float64<span class="token punctuation">)</span>    kernel <span class="token operator">=</span> cv2<span class="token punctuation">.</span>getGaussianKernel<span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">1.5</span><span class="token punctuation">)</span>    window <span class="token operator">=</span> np<span class="token punctuation">.</span>outer<span class="token punctuation">(</span>kernel<span class="token punctuation">,</span> kernel<span class="token punctuation">.</span>transpose<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    mu1 <span class="token operator">=</span> cv2<span class="token punctuation">.</span>filter2D<span class="token punctuation">(</span>img1<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> window<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">]</span>  <span class="token comment" spellcheck="true"># valid</span>    mu2 <span class="token operator">=</span> cv2<span class="token punctuation">.</span>filter2D<span class="token punctuation">(</span>img2<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> window<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">]</span>    mu1_sq <span class="token operator">=</span> mu1<span class="token operator">**</span><span class="token number">2</span>    mu2_sq <span class="token operator">=</span> mu2<span class="token operator">**</span><span class="token number">2</span>    mu1_mu2 <span class="token operator">=</span> mu1 <span class="token operator">*</span> mu2    sigma1_sq <span class="token operator">=</span> cv2<span class="token punctuation">.</span>filter2D<span class="token punctuation">(</span>img1<span class="token operator">**</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> window<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">-</span> mu1_sq    sigma2_sq <span class="token operator">=</span> cv2<span class="token punctuation">.</span>filter2D<span class="token punctuation">(</span>img2<span class="token operator">**</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> window<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">-</span> mu2_sq    sigma12 <span class="token operator">=</span> cv2<span class="token punctuation">.</span>filter2D<span class="token punctuation">(</span>img1 <span class="token operator">*</span> img2<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> window<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">-</span> mu1_mu2    ssim_map <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">2</span> <span class="token operator">*</span> mu1_mu2 <span class="token operator">+</span> C1<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">2</span> <span class="token operator">*</span> sigma12 <span class="token operator">+</span> C2<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>mu1_sq <span class="token operator">+</span> mu2_sq <span class="token operator">+</span> C1<span class="token punctuation">)</span> <span class="token operator">*</span>                                                            <span class="token punctuation">(</span>sigma1_sq <span class="token operator">+</span> sigma2_sq <span class="token operator">+</span> C2<span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> ssim_map<span class="token punctuation">.</span>mean<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">calc_ssim</span><span class="token punctuation">(</span>img1<span class="token punctuation">,</span> img2<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token triple-quoted-string string">'''calculate SSIM    the same outputs as MATLAB's    img1, img2: [0, 255]    '''</span>    <span class="token keyword">if</span> <span class="token operator">not</span> img1<span class="token punctuation">.</span>shape <span class="token operator">==</span> img2<span class="token punctuation">.</span>shape<span class="token punctuation">:</span>        <span class="token keyword">raise</span> ValueError<span class="token punctuation">(</span><span class="token string">'Input images must have the same dimensions.'</span><span class="token punctuation">)</span>    <span class="token keyword">if</span> img1<span class="token punctuation">.</span>ndim <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> ssim<span class="token punctuation">(</span>img1<span class="token punctuation">,</span> img2<span class="token punctuation">)</span>    <span class="token keyword">elif</span> img1<span class="token punctuation">.</span>ndim <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> img1<span class="token punctuation">.</span>shape<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">:</span>            ssims <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>            <span class="token keyword">for</span> i <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">:</span>                ssims<span class="token punctuation">.</span>append<span class="token punctuation">(</span>ssim<span class="token punctuation">(</span>img1<span class="token punctuation">,</span> img2<span class="token punctuation">)</span><span class="token punctuation">)</span>            <span class="token keyword">return</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span>ssims<span class="token punctuation">)</span><span class="token punctuation">.</span>mean<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">elif</span> img1<span class="token punctuation">.</span>shape<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>            <span class="token keyword">return</span> ssim<span class="token punctuation">(</span>np<span class="token punctuation">.</span>squeeze<span class="token punctuation">(</span>img1<span class="token punctuation">)</span><span class="token punctuation">,</span> np<span class="token punctuation">.</span>squeeze<span class="token punctuation">(</span>img2<span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token keyword">else</span><span class="token punctuation">:</span>        <span class="token keyword">raise</span> ValueError<span class="token punctuation">(</span><span class="token string">'Wrong input image dimensions.'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> python </category>
          
          <category> pytorch </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SR </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>图床工具的使用——PicGo</title>
      <link href="/2019/05/19/tools-tu-chuang-gong-ju-de-shi-yong-picgo/"/>
      <url>/2019/05/19/tools-tu-chuang-gong-ju-de-shi-yong-picgo/</url>
      
        <content type="html"><![CDATA[<h2 id="一、图床"><a href="#一、图床" class="headerlink" title="一、图床"></a>一、图床</h2><ul><li>方便程度：★★★★☆</li><li>配置难度：★★☆☆☆</li><li>适用环境：win + mac + linux</li><li>需要工具：GitHub 账号 + PicGo 客户端</li><li>稳定性：背靠 GitHub 和微软，比自建服务器都稳</li><li>隐私性：这算是唯一缺点，你的图片别人可以访问</li></ul><blockquote><p>所谓图床工具，就是自动把本地图片转换成链接的一款工具，网络上有很多图床工具，就目前使用种类而言，<code>PicGo</code> 算得上一款比较优秀的图床工具。它是一款用 <code>Electron-vue</code> 开发的软件，可以支持微博，七牛云，腾讯云COS，又拍云，<code>GitHub</code>，<code>阿里云OSS</code>，<code>SM.MS</code>，<code>imgur</code> 等8种常用图床，功能强大，简单易用。<br>下载网址：<a href="https://github.com/Molunerfinn/PicGo/releases" target="_blank" rel="noopener">https://github.com/Molunerfinn/PicGo/releases</a><br><strong>注意</strong>：mac 系统选择 dmg 下载，windwos 选择 .exe系统，如果不是下载安装包，想看源码的话，可以选择 git clone <a href="https://github.com/Molunerfinn/PicGo.git" target="_blank" rel="noopener">https://github.com/Molunerfinn/PicGo.git</a> 克隆到本地</p></blockquote><h2 id="二、配置"><a href="#二、配置" class="headerlink" title="二、配置"></a>二、配置</h2><h3 id="1-配置GitHub"><a href="#1-配置GitHub" class="headerlink" title="1. 配置GitHub"></a>1. 配置GitHub</h3><blockquote><p>流程：新建 public 仓库 -&gt; 创建 token -&gt; 复制 token 备用</p></blockquote><p><strong>1.1 新建仓库</strong></p><p>点击git主页右上角的<code>+</code>创建 <code>New resposity</code></p><p><img src="https://github.com/it-hao/clounding/blob/master/data/PicGo-GitHub0.png?raw=true" alt="图1"></p><p>填写仓库信息，例如我就创建了一个 <code>cloudimg</code> 的仓库。这里注意，仓库得设置为 <code>Public</code> 因为后面通过客户端访问算是外部访问，因此无法访问 <code>Private</code> ，这样的话图片传上来之后只能存储不能显示。所以要设置为 <code>Public</code>。</p><p><img src="https://github.com/it-hao/clounding/blob/master/data/PicGo-GitHub2.png?raw=true" alt="图2"></p><p><strong>1.2 创建token并复制保存</strong></p><p>此时仓库已经建立，点击右上角头像，然后进入设置；</p><p><img src="https://github.com/it-hao/clounding/blob/master/data/PicGo-GitHub1.png?raw=true" alt="图3"></p><p>在页面最下找到 <code>Developer settings</code>，点击进入；</p><p><img src="https://github.com/it-hao/clounding/blob/master/data/PicGo-GitHub2.png?raw=true" alt="图4"></p><p>创建token</p><p><img src="https://github.com/it-hao/clounding/blob/master/data/PicGo-GitHub3.png?raw=true" alt="图5"></p><p>填 description（也是随心填），勾选复选框 repo ，接着到页面底部 <code>Generate token</code> 就完成了；</p><p><img src="https://github.com/it-hao/clounding/blob/master/data/PicGo-GitHub4.png?raw=true" alt="图6"></p><p>然后复制生成一串字符 token，这个 token 只出现一次，所以要保存一下。</p><p><img src="https://github.com/it-hao/clounding/blob/master/data/PicGo-GitHub5.png?raw=true" alt="图7"></p><h3 id="2-配置PicGo"><a href="#2-配置PicGo" class="headerlink" title="2. 配置PicGo"></a>2. 配置PicGo</h3><p><strong>2.1 下载&amp;安装</strong></p><p>PicGo （目前 2.1.4）是一个开源的图床工具，非常优秀。可以到 git 上下载，但下载速度太慢，所以我放了一个百度云的链接，速度快很多。</p><p>git地址：<a href="https://github.com/Molunerfinn/PicGo/release" target="_blank" rel="noopener">PicGo</a></p><p>Win版下载链接：<a href="https://pan.baidu.com/s/17KycPMoqNCnc1cR_yQO8nQ" target="_blank" rel="noopener">百度云</a> 密码：PicG</p><p><strong>2.2 配置</strong></p><p><img src="https://github.com/it-hao/clounding/blob/master/data/PicGo-GitHub6.png?raw=true" alt="图8"></p><ul><li>仓库名 即GitHub上建立的仓库名</li><li>分支名 默认为 <code>master</code></li><li>Token 就是刚刚复制的那一串字符</li><li>存储路径就是在你建的仓库中文件夹名字，可以以便于分类</li><li>域名：<code>https://raw.githubusercontent.com/it-hao/PicData/master 这个要改一下 格式 https://raw.githubusercontent.com/[仓库名]/master</code></li></ul><p>然后在PicGo客户端可以自定义设置快捷键啥的，自己设置。</p><p><img src="https://github.com/it-hao/clounding/blob/master/data/PicGo-GitHub7.png?raw=true" alt="图9"></p>]]></content>
      
      
      <categories>
          
          <category> tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 图床 </tag>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue 文档风格的 Typora 主题</title>
      <link href="/2019/05/18/tools-vue-wen-dang-feng-ge-de-typora-zhu-ti/"/>
      <url>/2019/05/18/tools-vue-wen-dang-feng-ge-de-typora-zhu-ti/</url>
      
        <content type="html"><![CDATA[<blockquote><p><a href="https://github.com/blinkfox/typora-vue-theme" target="_blank" rel="noopener">typora-vue-theme</a> 是 Typora Markdown 文档编辑器中一款类似<a href="https://vuejs.org/" target="_blank" rel="noopener">Vue</a>文档风格的主题。</p></blockquote><h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p><a href="https://www.typora.io/" target="_blank" rel="noopener">Typora</a>是一款支持实时预览的 Markdown 编辑器和阅读器，支持<code>Windows</code>、<code>macOS</code>、<code>Linux</code>三大平台。Typora 作为一款合格的 Markdown 编辑器，支持图片、列表、表格、代码、公式、目录等功能，同时这款软件还支持（一键）动态预览功能，让一切都变得如此干净、纯粹。并且有多种主题模板。<strong><a href="https://github.com/blinkfox/typora-vue-theme" target="_blank" rel="noopener">typora-vue-theme</a>就是参考了<a href="https://vuejs.org/" target="_blank" rel="noopener">Vue</a>文档风格而开发的一个 Typora 自定义主题</strong>。</p><h2 id="安装主题"><a href="#安装主题" class="headerlink" title="安装主题"></a>安装主题</h2><ol><li>下载本主题中的<code>vue.css</code>、<code>vue-dark.css</code>文件和包含字体的<code>vue</code>文件夹；</li><li>打开 Typora，点击“<strong>偏好设置</strong>” =&gt; “<strong>打开主题文件夹</strong>”按钮，将弹出 Typora 的主题文件夹；</li><li>将下载好的<code>vue.css</code>和<code>vue-dark.css</code>文件和包含字体的<code>vue</code>文件夹放到 Typora 的主题文件夹中；</li><li>关闭并重新打开 Typora，从菜单栏中选择 “<strong>主题</strong>” =&gt; “<strong>Vue</strong>” 或者 “<strong>Vue Dark</strong>” 即可。</li></ol><h2 id="效果图"><a href="#效果图" class="headerlink" title="效果图"></a>效果图</h2><p><img src="http://static.blinkfox.com/typora_vue_theme_screen_01.png" alt="vue主题效果图1"></p><p><img src="http://static.blinkfox.com/typora_vue_theme_screen_02.png" alt="vue主题效果图2"></p><p><img src="http://static.blinkfox.com/typora_vue_theme_screen_03.png" alt="vue主题效果图3"></p><h3 id="Vue-Dark"><a href="#Vue-Dark" class="headerlink" title="Vue Dark"></a>Vue Dark</h3><p><img src="https://github.com/MamoruDS/typora-vue-theme/raw/master/screenshots/screenshot_01.png" alt="vue主题效果图4"></p><p><img src="https://github.com/MamoruDS/typora-vue-theme/raw/master/screenshots/screenshot_02.png" alt="vue主题效果图5"></p><blockquote><p><strong>感谢</strong>: 本主题中的<code>vue-dark.css</code>来自<a href="https://github.com/MamoruDS/typora-vue-dark-theme" target="_blank" rel="noopener">typora-vue-dark-theme</a>.</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> tools </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Typora </tag>
            
            <tag> Markdown </tag>
            
            <tag> Vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SR数据处理</title>
      <link href="/2019/01/24/python-sr-shu-ju-chu-li/"/>
      <url>/2019/01/24/python-sr-shu-ju-chu-li/</url>
      
        <content type="html"><![CDATA[<p>在做SR实验中，因为网络深度，显存较小等问题，必须对图片进行处理，以便能够得到更好的实验结果。</p><h2 id="SR数据处理"><a href="#SR数据处理" class="headerlink" title="SR数据处理"></a>SR数据处理</h2><h3 id="1、图片多尺度处理"><a href="#1、图片多尺度处理" class="headerlink" title="1、图片多尺度处理"></a>1、图片多尺度处理</h3><p><strong>这里主要的思想是：</strong></p><ul><li><p>将尺度大于 512×512 的图片按照0.5.-&gt;06-&gt;···1.0的尺度分别保存到单独的文件夹中；</p></li><li><p>将尺度小于 512×512 的图片单独保存在一个文件夹中；</p></li></ul><p><strong>代码如下：</strong></p><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">classfily_image</span><span class="token punctuation">(</span>image_dir<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token triple-quoted-string string">"""    按照图片大小将其分类到不同尺度的文件夹中    """</span>    file_names <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>    <span class="token comment" spellcheck="true"># 得到所有图片的绝对路径</span>    filenames_from_dir<span class="token punctuation">(</span>image_dir<span class="token punctuation">,</span> file_names<span class="token punctuation">)</span>    <span class="token keyword">for</span> i <span class="token keyword">in</span> file_names<span class="token punctuation">:</span>        image <span class="token operator">=</span> Image<span class="token punctuation">.</span>open<span class="token punctuation">(</span>i<span class="token punctuation">)</span>        <span class="token comment" spellcheck="true"># 分别获得文件夹的根目录，图片名，图片的后缀名</span>        image_dir<span class="token punctuation">,</span> filename<span class="token punctuation">,</span> exten <span class="token operator">=</span> get_filePath_Name_Ext<span class="token punctuation">(</span>i<span class="token punctuation">)</span>        <span class="token comment" spellcheck="true"># crop_dir1 = save_path+'\\'+filename+'cropxy_'+str(x)+'_'+str(y)+exten</span>        image_size <span class="token operator">=</span> min<span class="token punctuation">(</span>image<span class="token punctuation">.</span>size<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>image<span class="token punctuation">.</span>size<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>        <span class="token comment" spellcheck="true"># image_size &lt; 512的单独进行处理，然后image_size > 512 的将他们的尺度分别缩小为0.5~1倍</span>        <span class="token keyword">if</span> image_size <span class="token operator">&lt;</span> <span class="token number">512</span><span class="token punctuation">:</span>            image_save_dir <span class="token operator">=</span> image_dir <span class="token operator">+</span> <span class="token string">"\\small_size"</span>            create_new_folder<span class="token punctuation">(</span>image_save_dir<span class="token punctuation">)</span>            image_save_name <span class="token operator">=</span> image_save_dir <span class="token operator">+</span> <span class="token string">"\\"</span> <span class="token operator">+</span> filename <span class="token operator">+</span> <span class="token string">"_small_size"</span> <span class="token operator">+</span> exten            <span class="token comment" spellcheck="true"># save image</span>            image<span class="token punctuation">.</span>save<span class="token punctuation">(</span>image_save_name<span class="token punctuation">)</span>        <span class="token keyword">else</span><span class="token punctuation">:</span>            <span class="token comment" spellcheck="true"># scale = round(512 / image_size, 1) + 0.1 # 这里不能四舍五入</span>            scale <span class="token operator">=</span> <span class="token punctuation">(</span>int<span class="token punctuation">(</span><span class="token number">5120</span><span class="token operator">/</span>image_size<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">10</span> <span class="token operator">+</span> <span class="token number">0.1</span>            <span class="token comment" spellcheck="true"># 图片的大小是 >512  and  &lt;1024</span>            <span class="token keyword">if</span> scale <span class="token operator">&lt;=</span> <span class="token number">1</span><span class="token punctuation">:</span>                <span class="token comment" spellcheck="true"># for x in np.arange(max(scale,0.5), 1, 0.1): # 容易出现问题</span>                <span class="token keyword">for</span> x <span class="token keyword">in</span> np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span>max<span class="token punctuation">(</span>scale<span class="token punctuation">,</span><span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">1.01</span><span class="token punctuation">,</span><span class="token number">0.1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>                    downtrans <span class="token operator">=</span> transforms<span class="token punctuation">.</span>Resize<span class="token punctuation">(</span><span class="token punctuation">(</span>int<span class="token punctuation">(</span>round<span class="token punctuation">(</span>image<span class="token punctuation">.</span>size<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">*</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>int<span class="token punctuation">(</span>round<span class="token punctuation">(</span>image<span class="token punctuation">.</span>size<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">*</span>x<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>interpolation<span class="token operator">=</span>Image<span class="token punctuation">.</span>BICUBIC<span class="token punctuation">)</span>                    new_image <span class="token operator">=</span> downtrans<span class="token punctuation">(</span>image<span class="token punctuation">)</span>                    image_save_dir <span class="token operator">=</span> image_dir <span class="token operator">+</span> <span class="token string">"\\"</span> <span class="token operator">+</span> str<span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token operator">+</span><span class="token string">"_size"</span>                    create_new_folder<span class="token punctuation">(</span>image_save_dir<span class="token punctuation">)</span>                    image_save_name <span class="token operator">=</span> image_save_dir <span class="token operator">+</span> <span class="token string">"\\"</span> <span class="token operator">+</span> filename <span class="token operator">+</span><span class="token string">"_"</span><span class="token operator">+</span> str<span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token operator">+</span> <span class="token string">"_size"</span> <span class="token operator">+</span> exten                    <span class="token comment" spellcheck="true"># save</span>                    new_image<span class="token punctuation">.</span>save<span class="token punctuation">(</span>image_save_name<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="2、图片切块"><a href="#2、图片切块" class="headerlink" title="2、图片切块"></a>2、图片切块</h3><p><strong>这里主要是采用了两种方法：</strong></p><ul><li><p><strong>五分法：</strong>将所有图片切成5块，主要想法是切成 512×512 大小，在论文中，4倍下采样为 128×128 ，通过算法恢复成为 原始大小；也可以切成 384×384 大小，3倍下采样为 128×128 ；或者切成 256×256 大小，2倍下采样为 128×128。</p></li><li><p><strong>滑窗法：</strong>这里采用的就是 stride 来进行一定的滑动，以便获得更多的图片，但是在之前实验中表明这样的效果不是很好，但是为了得到一整图片的整体特征的话，这种方法得到的图片还是有用的，但是这样的label不需要很多。</p></li></ul><pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">crop_fiveImages</span><span class="token punctuation">(</span>image_dir<span class="token punctuation">,</span>width<span class="token punctuation">,</span>height<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token triple-quoted-string string">"""    五分法：    """</span>    image_save_dir <span class="token operator">=</span> image_dir <span class="token operator">+</span> <span class="token string">'\\edges-'</span> <span class="token operator">+</span> str<span class="token punctuation">(</span>width<span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># 保存边缘图片</span>    image_save_dir2 <span class="token operator">=</span> image_dir <span class="token operator">+</span> <span class="token string">'\\centers-'</span> <span class="token operator">+</span> str<span class="token punctuation">(</span>width<span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># 保存中间图片</span>    create_new_folder<span class="token punctuation">(</span>image_save_dir<span class="token punctuation">)</span>    create_new_folder<span class="token punctuation">(</span>image_save_dir2<span class="token punctuation">)</span>    file_names <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>    cropLen <span class="token operator">=</span> <span class="token number">0</span>    filenames_from_dir<span class="token punctuation">(</span>image_dir<span class="token punctuation">,</span> file_names<span class="token punctuation">)</span>    <span class="token comment" spellcheck="true"># 得到所有图片的绝对路径</span>    <span class="token keyword">for</span> i <span class="token keyword">in</span> file_names<span class="token punctuation">:</span>        img <span class="token operator">=</span> Image<span class="token punctuation">.</span>open<span class="token punctuation">(</span>i<span class="token punctuation">)</span>        root_dir<span class="token punctuation">,</span> filename<span class="token punctuation">,</span> exten <span class="token operator">=</span> get_filePath_Name_Ext<span class="token punctuation">(</span>i<span class="token punctuation">)</span>        size1 <span class="token operator">=</span> img<span class="token punctuation">.</span>size<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token comment" spellcheck="true"># Height</span>        size0 <span class="token operator">=</span> img<span class="token punctuation">.</span>size<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token comment" spellcheck="true"># Width</span>        <span class="token keyword">for</span> x <span class="token keyword">in</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span>img<span class="token punctuation">.</span>size<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">-</span>width<span class="token punctuation">]</span><span class="token punctuation">:</span>            <span class="token keyword">for</span> y <span class="token keyword">in</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span>img<span class="token punctuation">.</span>size<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">-</span>height<span class="token punctuation">]</span><span class="token punctuation">:</span>                crop_dir1 <span class="token operator">=</span> image_save_dir <span class="token operator">+</span> <span class="token string">'\\'</span> <span class="token operator">+</span> filename <span class="token operator">+</span> <span class="token string">'cropxy_'</span> <span class="token operator">+</span> str<span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'_'</span> <span class="token operator">+</span> str<span class="token punctuation">(</span>y<span class="token punctuation">)</span> <span class="token operator">+</span> exten                region <span class="token operator">=</span> img<span class="token punctuation">.</span>crop<span class="token punctuation">(</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>x<span class="token operator">+</span>width<span class="token punctuation">,</span>y<span class="token operator">+</span>height<span class="token punctuation">)</span><span class="token punctuation">)</span>                region<span class="token punctuation">.</span>save<span class="token punctuation">(</span>crop_dir1<span class="token punctuation">)</span>                cropLen <span class="token operator">+=</span> <span class="token number">1</span>        x <span class="token operator">=</span> img<span class="token punctuation">.</span>size<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">//</span><span class="token number">2</span> <span class="token operator">-</span> width<span class="token operator">//</span><span class="token number">2</span>        y <span class="token operator">=</span> img<span class="token punctuation">.</span>size<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">//</span><span class="token number">2</span> <span class="token operator">-</span> height<span class="token operator">//</span><span class="token number">2</span>        crop_dir2 <span class="token operator">=</span> image_save_dir2<span class="token operator">+</span><span class="token string">'\\'</span><span class="token operator">+</span>filename<span class="token operator">+</span><span class="token string">'cropxy_'</span><span class="token operator">+</span>str<span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">'_'</span><span class="token operator">+</span>str<span class="token punctuation">(</span>y<span class="token punctuation">)</span><span class="token operator">+</span>exten        region <span class="token operator">=</span> img<span class="token punctuation">.</span>crop<span class="token punctuation">(</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>x<span class="token operator">+</span>width<span class="token punctuation">,</span>y<span class="token operator">+</span>height<span class="token punctuation">)</span><span class="token punctuation">)</span>        region<span class="token punctuation">.</span>save<span class="token punctuation">(</span>crop_dir2<span class="token punctuation">)</span>        cropLen <span class="token operator">+=</span> <span class="token number">1</span>    <span class="token keyword">return</span> cropLen<span class="token keyword">def</span> <span class="token function">crop_slideWindows</span><span class="token punctuation">(</span>image_dir<span class="token punctuation">,</span>width<span class="token punctuation">,</span>height<span class="token punctuation">,</span>stride<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token triple-quoted-string string">"""    滑窗法：    """</span>    save_path<span class="token operator">=</span>image_dir <span class="token operator">+</span> <span class="token string">'\\crops'</span>    create_new_folder<span class="token punctuation">(</span>save_path<span class="token punctuation">)</span>    file_names <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>    <span class="token comment" spellcheck="true"># 得到所有图片的绝对路径，包括子文件夹中的图片</span>    filenames_from_dir<span class="token punctuation">(</span>image_dir<span class="token punctuation">,</span> file_names<span class="token punctuation">)</span>    cropLen <span class="token operator">=</span> <span class="token number">0</span>    <span class="token keyword">for</span> i <span class="token keyword">in</span> file_names<span class="token punctuation">:</span>        im <span class="token operator">=</span> Image<span class="token punctuation">.</span>open<span class="token punctuation">(</span>i<span class="token punctuation">)</span>        <span class="token comment" spellcheck="true"># 分别获得文件夹的根目录，图片名，图片的后缀名</span>        root_dir<span class="token punctuation">,</span> filename<span class="token punctuation">,</span> exten <span class="token operator">=</span> get_filePath_Name_Ext<span class="token punctuation">(</span>i<span class="token punctuation">)</span>        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>im<span class="token punctuation">.</span>size<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">></span> width<span class="token punctuation">)</span> <span class="token operator">and</span> <span class="token punctuation">(</span>im<span class="token punctuation">.</span>size<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">></span> height<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token keyword">for</span> x <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> im<span class="token punctuation">.</span>size<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">-</span>width<span class="token punctuation">,</span> stride<span class="token punctuation">)</span><span class="token punctuation">:</span>                <span class="token keyword">for</span> y <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> im<span class="token punctuation">.</span>size<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">-</span>height<span class="token punctuation">,</span> stride<span class="token punctuation">)</span><span class="token punctuation">:</span>                    crop_dir <span class="token operator">=</span> save_path<span class="token operator">+</span><span class="token string">'\\'</span><span class="token operator">+</span>filename<span class="token operator">+</span><span class="token string">'cropxy_'</span><span class="token operator">+</span>str<span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">'_'</span><span class="token operator">+</span>str<span class="token punctuation">(</span>y<span class="token punctuation">)</span><span class="token operator">+</span>exten                    region <span class="token operator">=</span> im<span class="token punctuation">.</span>crop<span class="token punctuation">(</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>x<span class="token operator">+</span>width<span class="token punctuation">,</span>y<span class="token operator">+</span>height<span class="token punctuation">)</span><span class="token punctuation">)</span>                    region<span class="token punctuation">.</span>save<span class="token punctuation">(</span>crop_dir<span class="token punctuation">)</span>                    cropLen <span class="token operator">+=</span><span class="token number">1</span>    <span class="token keyword">return</span> cropLen<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> SR </category>
          
      </categories>
      
      
        <tags>
            
            <tag> pytorch </tag>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++试卷</title>
      <link href="/2019/01/15/c-c-bian-cheng-ti/"/>
      <url>/2019/01/15/c-c-bian-cheng-ti/</url>
      
        <content type="html"><![CDATA[<p>2018-2019年本科考试编程题，记录一下，以便来年参考~</p><h2 id="编程题"><a href="#编程题" class="headerlink" title="编程题"></a>编程题</h2><h3 id="1、二进制转换"><a href="#1、二进制转换" class="headerlink" title="1、二进制转换"></a>1、二进制转换</h3><p>设计函数convert_number(int number ,int radius)，任意输入一个int型正整数（number）,对它进行二进制（radius为转换的进制数）转换，并输出转换后的数据。</p><blockquote>例如：<br>Please input the number：313<br>After binary conversion, the number is：100111001<br></blockquote><p><dfn><strong>程序如下：</strong></dfn></p><pre class="line-numbers language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;iostream></span></span>using namespace std<span class="token keyword">void</span> <span class="token function">Convert_number</span><span class="token punctuation">(</span><span class="token keyword">int</span> number<span class="token punctuation">,</span><span class="token keyword">int</span> radius<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>a<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">;</span>     <span class="token keyword">while</span><span class="token punctuation">(</span>number <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        a<span class="token punctuation">[</span>i<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> number<span class="token operator">%</span>radius<span class="token punctuation">;</span>         number <span class="token operator">=</span> number<span class="token operator">/</span>radius<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> i<span class="token number">-1</span><span class="token punctuation">;</span>j <span class="token operator">>=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">--</span><span class="token punctuation">)</span>        cout<span class="token operator">&lt;&lt;</span>a<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> number<span class="token punctuation">;</span>    cout<span class="token operator">&lt;&lt;</span><span class="token string">"please input the number："</span><span class="token punctuation">;</span>    cin<span class="token operator">>></span>number<span class="token punctuation">;</span>    cout<span class="token operator">&lt;&lt;</span><span class="token string">"After binary conversion,the number is："</span><span class="token punctuation">;</span>     <span class="token function">Convert_number</span><span class="token punctuation">(</span>number<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="2、简单二维数组"><a href="#2、简单二维数组" class="headerlink" title="2、简单二维数组"></a>2、简单二维数组</h3><p>输入一个4×4的二维数组，设计函数get_column_sum(int a[][4],int nRow)输出其中每一列的和？</p><blockquote>例如：<br>Please input 4 ×4 array:<br>1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16<br>sum for column 1 is 28<br>sum for column 2 is 32<br>sum for column 3 is 36<br>sum for column 4 is 40</blockquote><p><dfn><strong>程序如下：</strong></dfn></p><pre class="line-numbers language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;iostream></span> </span>using namespace std<span class="token punctuation">;</span><span class="token keyword">const</span> <span class="token keyword">int</span> COLUMN_SIZE <span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">;</span><span class="token keyword">const</span> <span class="token keyword">int</span> ROW_SIZE <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span><span class="token keyword">int</span> a<span class="token punctuation">[</span>COLUMN_SIZE<span class="token punctuation">]</span><span class="token punctuation">[</span>ROW_SIZE<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">get_column_sum</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span>COLUMN_SIZE<span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token keyword">int</span> nRow<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> col <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>col <span class="token operator">&lt;</span> COLUMN_SIZE<span class="token punctuation">;</span>col<span class="token operator">++</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">int</span> total <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> row <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>row <span class="token operator">&lt;</span> nRow<span class="token punctuation">;</span>row<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            total <span class="token operator">+</span><span class="token operator">=</span> a<span class="token punctuation">[</span>row<span class="token punctuation">]</span><span class="token punctuation">[</span>col<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        cout<span class="token operator">&lt;&lt;</span><span class="token string">"sum for column "</span><span class="token operator">&lt;&lt;</span>col<span class="token operator">+</span><span class="token number">1</span><span class="token operator">&lt;&lt;</span><span class="token string">" is "</span><span class="token operator">&lt;&lt;</span>total<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>     <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    cout<span class="token operator">&lt;&lt;</span><span class="token string">"please input 4 ×4 array:"</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>     <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i <span class="token operator">&lt;</span> <span class="token number">4</span><span class="token punctuation">;</span>i <span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>j <span class="token operator">&lt;</span> <span class="token number">4</span><span class="token punctuation">;</span>j <span class="token operator">++</span><span class="token punctuation">)</span>            cin<span class="token operator">>></span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token function">get_column_sum</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="3、面向对象一"><a href="#3、面向对象一" class="headerlink" title="3、面向对象一"></a>3、面向对象一</h3><p>设计一个Student（学生）类，并使Student类具有以下特点：</p><ul><li>该类具有学生姓名（name）、学号（id）、高数（math）、程序设计（program）、英语（english）三门课程的成绩；</li><li>学生的所有信息通过键盘输入；</li><li>通过成员函数 get_totalScore() 统计学生三门课的总成绩；</li><li>通过成员函数 show_score() 输出学生的各种信息。<blockquote>例如：<br>Please input the information of student:<br>James 0001 90 95 100<br>The information of student is :<br>name    id      90      95      100     Total Score<br>James   0001    90      95      100     285</blockquote></li></ul><p><dfn><strong>程序如下：</strong></dfn></p><pre class="line-numbers language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;iostream></span></span><span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;string></span></span>using namespace std<span class="token punctuation">;</span>class Student<span class="token punctuation">{</span>public<span class="token punctuation">:</span>    <span class="token function">Student</span><span class="token punctuation">(</span>string name<span class="token punctuation">,</span>string id<span class="token punctuation">,</span><span class="token keyword">float</span> math<span class="token punctuation">,</span><span class="token keyword">float</span> program<span class="token punctuation">,</span><span class="token keyword">float</span> english<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        this<span class="token operator">-></span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>        this<span class="token operator">-></span>id <span class="token operator">=</span> id<span class="token punctuation">;</span>        this<span class="token operator">-></span>math <span class="token operator">=</span> math<span class="token punctuation">;</span>        this<span class="token operator">-></span>program <span class="token operator">=</span>program<span class="token punctuation">;</span>        this<span class="token operator">-></span>english <span class="token operator">=</span> english<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">float</span> <span class="token function">get_totalScore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">void</span> <span class="token function">show_score</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>private<span class="token punctuation">:</span>    string name<span class="token punctuation">;</span>    string id<span class="token punctuation">;</span>    <span class="token keyword">float</span> math<span class="token punctuation">;</span>    <span class="token keyword">float</span> program<span class="token punctuation">;</span>    <span class="token keyword">float</span> english<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">float</span> Student<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">get_totalScore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">return</span> math<span class="token operator">+</span>program<span class="token operator">+</span>english<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> Student<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">show_score</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    cout<span class="token operator">&lt;&lt;</span><span class="token string">"the information of student is:"</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>     cout<span class="token operator">&lt;&lt;</span><span class="token string">"name"</span><span class="token operator">&lt;&lt;</span><span class="token string">"\t"</span><span class="token operator">&lt;&lt;</span><span class="token string">"id"</span><span class="token operator">&lt;&lt;</span><span class="token string">"\t"</span><span class="token operator">&lt;&lt;</span>math<span class="token operator">&lt;&lt;</span><span class="token string">"\t"</span><span class="token operator">&lt;&lt;</span>program<span class="token operator">&lt;&lt;</span><span class="token string">"\t"</span><span class="token operator">&lt;&lt;</span>english<span class="token operator">&lt;&lt;</span><span class="token string">"\t"</span><span class="token operator">&lt;&lt;</span><span class="token string">"Total Score"</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>    cout<span class="token operator">&lt;&lt;</span>name<span class="token operator">&lt;&lt;</span><span class="token string">"\t"</span><span class="token operator">&lt;&lt;</span>id<span class="token operator">&lt;&lt;</span><span class="token string">"\t"</span><span class="token operator">&lt;&lt;</span>math<span class="token operator">&lt;&lt;</span><span class="token string">"\t"</span><span class="token operator">&lt;&lt;</span>program<span class="token operator">&lt;&lt;</span><span class="token string">"\t"</span><span class="token operator">&lt;&lt;</span>english<span class="token operator">&lt;&lt;</span><span class="token string">"\t"</span><span class="token operator">&lt;&lt;</span><span class="token function">get_totalScore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    string name<span class="token punctuation">,</span>id<span class="token punctuation">;</span>    <span class="token keyword">float</span> math<span class="token punctuation">,</span>program<span class="token punctuation">,</span>english<span class="token punctuation">;</span>    cout<span class="token operator">&lt;&lt;</span><span class="token string">"Please input the information of stident:"</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>     cin<span class="token operator">>></span>name<span class="token operator">>></span>id<span class="token operator">>></span>math<span class="token operator">>></span>program<span class="token operator">>></span>english<span class="token punctuation">;</span>    Student <span class="token function">st</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span>id<span class="token punctuation">,</span>math<span class="token punctuation">,</span>program<span class="token punctuation">,</span>english<span class="token punctuation">)</span><span class="token punctuation">;</span>    st<span class="token punctuation">.</span><span class="token function">show_score</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="4、面向对象二"><a href="#4、面向对象二" class="headerlink" title="4、面向对象二"></a>4、面向对象二</h3><p>定义一个日期类Date，并使得该类具有如下特点：</p><ul><li>该类包含年（year），月（month），日（day）三个public的数据成员；</li><li>通过键盘输入今天的日期: year  month  day；</li><li>通过成员函数 get_nextday()，计算明天的日期；</li><li>通过成员函数 display() 分别显示今天的日期、明天的日期。<br><blockquote>例如：<br>Please input today’s date :year month day :<br>2018 2 28<br>Today is ：2018-2-28<br>Tomorrow is ：2018-3-1</blockquote><br><dfn><strong>程序如下：</strong></dfn></li></ul><pre class="line-numbers language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;iostream></span></span>using namespace std<span class="token punctuation">;</span>class Date<span class="token punctuation">{</span>    private<span class="token punctuation">:</span>         <span class="token keyword">int</span> year<span class="token punctuation">,</span>month<span class="token punctuation">,</span>day<span class="token punctuation">;</span>    public<span class="token punctuation">:</span><span class="token function">Date</span><span class="token punctuation">(</span><span class="token keyword">int</span> year<span class="token punctuation">,</span><span class="token keyword">int</span> month<span class="token punctuation">,</span><span class="token keyword">int</span> day<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        this<span class="token operator">-></span>year <span class="token operator">=</span> year<span class="token punctuation">;</span>        this<span class="token operator">-></span>month <span class="token operator">=</span> month<span class="token punctuation">;</span>        this<span class="token operator">-></span>day <span class="token operator">=</span> day<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">void</span> <span class="token function">get_nextday</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">void</span> <span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">void</span> Date<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">get_nextday</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">int</span> totaldays<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">]</span> <span class="token operator">=</span>         <span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token number">31</span><span class="token punctuation">,</span><span class="token number">28</span><span class="token punctuation">,</span><span class="token number">31</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token number">31</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token number">31</span><span class="token punctuation">,</span><span class="token number">31</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token number">31</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token number">31</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token number">31</span><span class="token punctuation">,</span><span class="token number">29</span><span class="token punctuation">,</span><span class="token number">31</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token number">31</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token number">31</span><span class="token punctuation">,</span><span class="token number">31</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token number">31</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token number">31</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span>    day <span class="token operator">++</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> leap <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>year<span class="token operator">%</span><span class="token number">400</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">||</span><span class="token punctuation">(</span>year<span class="token operator">%</span><span class="token number">4</span><span class="token operator">==</span><span class="token number">0</span> <span class="token operator">&amp;&amp;</span> year<span class="token operator">%</span><span class="token number">100</span> <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>day <span class="token operator">></span> totaldays<span class="token punctuation">[</span>leap<span class="token punctuation">]</span><span class="token punctuation">[</span>month<span class="token number">-1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        day <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>        month <span class="token operator">+</span><span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>month <span class="token operator">></span> <span class="token number">12</span><span class="token punctuation">)</span>            <span class="token punctuation">{</span>            month <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>            year <span class="token operator">+</span><span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>     <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token keyword">void</span> Date<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    cout<span class="token operator">&lt;&lt;</span>year<span class="token operator">&lt;&lt;</span><span class="token string">"-"</span><span class="token operator">&lt;&lt;</span>month<span class="token operator">&lt;&lt;</span><span class="token string">"-"</span><span class="token operator">&lt;&lt;</span>day<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> year<span class="token punctuation">,</span>month<span class="token punctuation">,</span>day<span class="token punctuation">;</span>    cout<span class="token operator">&lt;&lt;</span><span class="token string">"Please input 'year' 'month' 'day' :"</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>    cin<span class="token operator">>></span>year<span class="token operator">>></span>month<span class="token operator">>></span>day<span class="token punctuation">;</span>    Date <span class="token function">d</span><span class="token punctuation">(</span>year<span class="token punctuation">,</span>month<span class="token punctuation">,</span>day<span class="token punctuation">)</span><span class="token punctuation">;</span>    cout<span class="token operator">&lt;&lt;</span><span class="token string">"Today is ："</span><span class="token punctuation">;</span>    d<span class="token punctuation">.</span><span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    d<span class="token punctuation">.</span><span class="token function">get_nextday</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    cout<span class="token operator">&lt;&lt;</span><span class="token string">"Tomorrow is ："</span><span class="token punctuation">;</span>    d<span class="token punctuation">.</span><span class="token function">display</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="5、面向对象三"><a href="#5、面向对象三" class="headerlink" title="5、面向对象三"></a>5、面向对象三</h3><p>设计一个抽象类Shape，在Shape类的基础之上派生出Circle（圆）类和Rectangle（矩形）类，要求：</p><ul><li>使用纯虚函数实现，即在Shape类中定义虚函数get_area()、get_perimeter()；</li><li>Circle类具有private 属性radius（半径），Rectangle类具有private属性length 、width（长，宽）；</li><li>在Circle类和Rectangle类中分别实现求面积get_area()、求周长get_perimeter()的函数；</li><li>输出 半径为4 的圆的周长和面积，长为4，宽为5的矩形周长和面积。<blockquote>例如：<br>半径为4的圆的面积为50.24, 周长为25.12<br>长为5 宽为 4 的矩形面积为20, 周长为18</blockquote></li></ul><p><dfn><strong>程序如下：</strong></dfn></p><pre class="line-numbers language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;iostream></span></span>using namespace std<span class="token punctuation">;</span><span class="token keyword">const</span> <span class="token keyword">double</span> pi <span class="token operator">=</span> <span class="token number">3.14</span><span class="token punctuation">;</span>class Shape<span class="token punctuation">{</span>public<span class="token punctuation">:</span>    <span class="token function">Shape</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>    virtual <span class="token keyword">double</span> <span class="token function">get_area</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>    virtual <span class="token keyword">double</span> <span class="token function">get_perimeter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>class Circle<span class="token punctuation">:</span>public Shape<span class="token punctuation">{</span>public<span class="token punctuation">:</span>    <span class="token function">Circle</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token function">Shape</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        this<span class="token operator">-></span>a <span class="token operator">=</span> a<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">double</span> <span class="token function">get_area</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">return</span> pi<span class="token operator">*</span>a<span class="token operator">*</span>a<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">double</span> <span class="token function">get_perimeter</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">return</span> pi<span class="token operator">*</span><span class="token number">2</span><span class="token operator">*</span>a<span class="token punctuation">;</span>    <span class="token punctuation">}</span>private<span class="token punctuation">:</span>    <span class="token keyword">int</span> a<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>class Rectangle<span class="token punctuation">:</span>public Shape<span class="token punctuation">{</span>public<span class="token punctuation">:</span>    <span class="token function">Rectangle</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span><span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token punctuation">:</span><span class="token function">Shape</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        this<span class="token operator">-></span>a <span class="token operator">=</span> a<span class="token punctuation">;</span>        this<span class="token operator">-></span>b <span class="token operator">=</span> b<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">double</span> <span class="token function">get_area</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">return</span> a<span class="token operator">*</span>b<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">double</span> <span class="token function">get_perimeter</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token number">2</span><span class="token operator">*</span><span class="token punctuation">(</span>a<span class="token operator">+</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>private<span class="token punctuation">:</span>    <span class="token keyword">int</span> a<span class="token punctuation">;</span>    <span class="token keyword">int</span> b<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">displayShapeObject</span><span class="token punctuation">(</span>Shape <span class="token operator">*</span>object<span class="token punctuation">)</span><span class="token punctuation">{</span>    cout<span class="token operator">&lt;&lt;</span><span class="token string">"面积为："</span><span class="token operator">&lt;&lt;</span>object<span class="token operator">-></span><span class="token function">get_area</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>    cout<span class="token operator">&lt;&lt;</span><span class="token string">"周长为："</span><span class="token operator">&lt;&lt;</span>object<span class="token operator">-></span><span class="token function">get_perimeter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    Shape <span class="token operator">*</span>object<span class="token punctuation">;</span>    Circle <span class="token function">circle</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    object <span class="token operator">=</span> <span class="token operator">&amp;</span>circle<span class="token punctuation">;</span>     cout<span class="token operator">&lt;&lt;</span><span class="token string">"半径为4的圆的面积为："</span><span class="token operator">&lt;&lt;</span>object<span class="token operator">-></span><span class="token function">get_area</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span><span class="token string">",周长为："</span><span class="token operator">&lt;&lt;</span>object<span class="token operator">-></span><span class="token function">get_perimeter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>    Rectangle <span class="token function">rectangle</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    object <span class="token operator">=</span> <span class="token operator">&amp;</span>rectangle<span class="token punctuation">;</span>    cout<span class="token operator">&lt;&lt;</span><span class="token string">"长为5宽为4的矩形面积为："</span><span class="token operator">&lt;&lt;</span>object<span class="token operator">-></span><span class="token function">get_area</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span><span class="token string">",周长为："</span><span class="token operator">&lt;&lt;</span>object<span class="token operator">-></span><span class="token function">get_perimeter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//displayShapeObject(&amp;circle);</span>    <span class="token comment" spellcheck="true">//displayShapeObject(&amp;rectangle);</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="6、蛇形矩阵"><a href="#6、蛇形矩阵" class="headerlink" title="6、蛇形矩阵"></a>6、蛇形矩阵</h3><p>蛇形矩阵n×n，要求：<br>输入矩阵的维度n，输出如下图形。</p><p><blockquote>例如：<br>Please input the dimension of the matrix：5<br><img src="/images/c/c.png" alt=""> </blockquote><br><dfn><strong>程序如下：</strong></dfn></p><pre class="line-numbers language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;iostream></span> </span>using namespace std<span class="token punctuation">;</span><span class="token macro property">#<span class="token directive keyword">define</span> maxn 20</span><span class="token keyword">int</span> a<span class="token punctuation">[</span>maxn<span class="token punctuation">]</span><span class="token punctuation">[</span>maxn<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">int</span> n<span class="token punctuation">,</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>tot<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"Please input the dimension of the matrix："</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token comment" spellcheck="true">//初始化数组</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span>            a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    tot<span class="token operator">=</span>a<span class="token punctuation">[</span>x<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">while</span><span class="token punctuation">(</span>tot<span class="token operator">&lt;</span>n<span class="token operator">*</span>n<span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">while</span><span class="token punctuation">(</span>y<span class="token operator">+</span><span class="token number">1</span><span class="token operator">&lt;</span>n<span class="token operator">&amp;&amp;</span><span class="token operator">!</span>a<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>    a<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token operator">++</span>y<span class="token punctuation">]</span><span class="token operator">=</span><span class="token operator">++</span>tot<span class="token punctuation">;</span>        <span class="token keyword">while</span><span class="token punctuation">(</span>x<span class="token operator">+</span><span class="token number">1</span><span class="token operator">&lt;</span>n<span class="token operator">&amp;&amp;</span><span class="token operator">!</span>a<span class="token punctuation">[</span>x<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">)</span>    a<span class="token punctuation">[</span><span class="token operator">++</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token operator">=</span><span class="token operator">++</span>tot<span class="token punctuation">;</span>        <span class="token keyword">while</span><span class="token punctuation">(</span>y<span class="token number">-1</span><span class="token operator">>=</span><span class="token number">0</span><span class="token operator">&amp;&amp;</span><span class="token operator">!</span>a<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token number">-1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>    a<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token operator">--</span>y<span class="token punctuation">]</span><span class="token operator">=</span><span class="token operator">++</span>tot<span class="token punctuation">;</span>        <span class="token keyword">while</span><span class="token punctuation">(</span>x<span class="token number">-1</span><span class="token operator">>=</span><span class="token number">0</span><span class="token operator">&amp;&amp;</span><span class="token operator">!</span>a<span class="token punctuation">[</span>x<span class="token number">-1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">)</span>    a<span class="token punctuation">[</span><span class="token operator">--</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token operator">=</span><span class="token operator">++</span>tot<span class="token punctuation">;</span>    <span class="token punctuation">}</span>        <span class="token keyword">for</span><span class="token punctuation">(</span>x<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>x<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>x<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">for</span><span class="token punctuation">(</span>y<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>y<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>y<span class="token operator">++</span><span class="token punctuation">)</span>            <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%3d"</span><span class="token punctuation">,</span>a<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> 作业 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>0-1背包</title>
      <link href="/2019/01/14/suan-fa-0-1-bei-bao/"/>
      <url>/2019/01/14/suan-fa-0-1-bei-bao/</url>
      
        <content type="html"><![CDATA[<p>背包问题是本科时候竞赛经常遇到的一个问题，包括0-1背包、完全背包问题、多重背包问题，今天正好准备算法期末考试，就此机会回忆一下0-1背包问题。</p><h2 id="0-1-背包问题"><a href="#0-1-背包问题" class="headerlink" title="0-1 背包问题"></a>0-1 背包问题</h2><h3 id="1、问题描述"><a href="#1、问题描述" class="headerlink" title="1、问题描述"></a>1、问题描述</h3><blockquote> 有N件物品，和一个容量为V的背包，第i件物品的费用是c[i]，价值是w[i],问将哪些物品装入背包可使价值总和最大。<br>注意：这是最基本的背包问题，特点就是每件物品仅有意见，可以选择放还是不放</blockquote><h3 id="2、状态转移方程"><a href="#2、状态转移方程" class="headerlink" title="2、状态转移方程"></a>2、状态转移方程</h3><blockquote>f[i][v] = max{f[i-1][v],f[i-1][v-c[i]] + w[i]<br>含义就是：将前i件物品放入容量为v的背包中可获得的最大价值</blockquote><p><strong>基本所有的背包问题都是由这个方程演变过来的。</strong><br>这个方程可以这样来理解：将前 i 件物品放入容量为 v 的背包中”这个子问题，若只考虑第 i个物品的策略（放或不放），那么就可以转化为一个只牵扯前i-1件物品的问题。</p><ul><li><strong>如果不放第i件物品</strong>：那么问题就转化为“前 i-1 件物 品放入容量为 v 的背包中”，价值为 f[i-1][v]；</li><li><strong>如果放第i件物品</strong>：那么问题就转化为“前 i-1 件物品放入剩下的容量为 v-c[i]的背包中”，此时能获得的最大价值就是 f[i-1][v-c[i]]再加上通过放入第 i 件物品获得的价值w[i]。<br><code>请注意：</code><br>在最优解的背包问题中，事实上有两种不太相同的问法，一种是要求“恰好装满背包时”的最优解，有的则是没有要求必须将背包装满，区别这种问法的实现方法就是在初始化的时候有所不同。</li><li><strong>第一种：</strong>要求恰好装满背包，那么在初始化时除了 f[0]为 0 其它 f[1..V]均设为 -∞。</li><li><strong>第二种：</strong>没要求恰好装满背包，只希望价格大，初始化时应该f[1..V]均设为0。</li></ul><h3 id="3、实例"><a href="#3、实例" class="headerlink" title="3、实例"></a>3、实例</h3><p><strong>问题描述：</strong> 已知知道了N块石头的体积和价值，有一个最多能装体积为V的石头的袋子，从N块石头中找出一些石头放在袋子里使得总价值最大，求出最大价值。</p><pre class="line-numbers language-c"><code class="language-c"><span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;iostream></span></span>using namespace std<span class="token punctuation">;</span><span class="token macro property">#<span class="token directive keyword">include</span><span class="token string">&lt;string.h></span></span><span class="token keyword">struct</span> A<span class="token punctuation">{</span>    <span class="token keyword">int</span> val<span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//价值</span>    <span class="token keyword">int</span> v<span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//体积</span><span class="token punctuation">}</span>E<span class="token punctuation">[</span><span class="token number">1011</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">max</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span><span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">return</span> a<span class="token operator">></span>b<span class="token operator">?</span>a<span class="token punctuation">:</span>b<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">int</span> T<span class="token punctuation">;</span>    <span class="token keyword">int</span> dp<span class="token punctuation">[</span><span class="token number">1011</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> N<span class="token punctuation">,</span>V<span class="token punctuation">;</span>    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>T<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">while</span><span class="token punctuation">(</span>T<span class="token operator">--</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>N<span class="token punctuation">,</span><span class="token operator">&amp;</span>V<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>N<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>            <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>E<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>N<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>            <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>E<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">memset</span><span class="token punctuation">(</span>dp<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>dp<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//如果这里问的是问恰好装满背包，则不能这样初始化。</span>        <span class="token keyword">for</span><span class="token punctuation">(</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>N<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> l<span class="token operator">=</span>V<span class="token punctuation">;</span>l<span class="token operator">>=</span>E<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>v<span class="token punctuation">;</span>l<span class="token operator">--</span><span class="token punctuation">)</span>                dp<span class="token punctuation">[</span>l<span class="token punctuation">]</span><span class="token operator">=</span><span class="token function">max</span><span class="token punctuation">(</span>dp<span class="token punctuation">[</span>l<span class="token punctuation">]</span><span class="token punctuation">,</span>dp<span class="token punctuation">[</span>l<span class="token operator">-</span>E<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>v<span class="token operator">+</span>E<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>val<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            cout<span class="token operator">&lt;&lt;</span>dp<span class="token punctuation">[</span>V<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> 算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c++ </tag>
            
            <tag> 0-1背包 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>回归博客</title>
      <link href="/2019/01/13/sui-bi-hui-gui-bo-ke/"/>
      <url>/2019/01/13/sui-bi-hui-gui-bo-ke/</url>
      
        <content type="html"><![CDATA[<p>这是我正式搭建好博客之后自己写的第一篇文章，因为最近事情比较多，帮老师写专利，调代码，准备期末考试，但是还是在百忙之中，抽取了一丁点的时间，按照热心网友给出的模板，自己搭了一个简单的博客，也了却了我的的一桩心事。</p><h2 id="正式回归博客啦！！！"><a href="#正式回归博客啦！！！" class="headerlink" title="正式回归博客啦！！！"></a>正式回归博客啦！！！</h2><hr><h3 id="1、源头"><a href="#1、源头" class="headerlink" title="1、源头"></a>1、源头</h3><p>大二的时候，松哥就跟我说着要搭建一个属于自己的技术博客，当时的时候，开始喜欢编程，接触Java,还有各种Web编程，确实知识点比较多，也比较松散，word，思维导图各种笔记都曾记过，也使用过很多的云笔记，微软的OneNote，印象笔记，有道云等到处都留下了我的印记，但是终究不能带来最佳的体验效果。</p><p>上了研究生之后，看的文献越来越多，接触的编程语言也越来越多，各种框架层出不穷，用有道云来做简单的论文笔记勉强还是过得去，但是看起来也不是很方便，尤其是在手机端，总是有种似曾相识，但是还是得上网百度。为此，<a href="https://blog.csdn.net/HaoTheAnswer" target="_blank" rel="noopener">CSDN</a>上我也会经常用来收藏很多网上大牛的文章，但是其排版又过于丑陋，而且有些文章有时还会给你删除，很烦躁。目前市面上也就只有博客园和简书在这方面做的比较好，但是终归不是属于自己的，所以说，想法是早就有，总是一拖再拖。</p><p>终于，实验室小雨姐姐给他推荐了他的博客，我就上了她的博客来看看，确实效果还是挺不错的，上面看到了她姐姐的一个<a href="http://ariel-cheng.github.io/2017/04/23/Internship-experience/" target="_blank" rel="noopener">实习总结</a>，拥有自己的博客不管是对自己还是对别人来说都是百利而无一害的。 所以，花了两天时间，先学会了在github的各种使用，然后开始基于Hexo来建立自己的博客，在阿里云注册了一个域名，然后就搭起来了。</p><h3 id="2、近期计划"><a href="#2、近期计划" class="headerlink" title="2、近期计划"></a>2、近期计划</h3><p>近期可能事情比较多，所以不天可能将所有以前的笔记啥的都移植到现在这个博客上，所以打算就是利用寒假的时间，将大学四年和研一上半年的所有笔记进行一个整理，能做多少就做多少吧，总体的思路还是想分为几个大的模块：</p><h4 id="2-1-编程"><a href="#2-1-编程" class="headerlink" title="2.1 编程"></a>2.1 编程</h4><p>这方面主要涉及自己学过的几门语言，Java，C/C++，Python语言，主要重点是现在接触的比较多的Python语言，还有一些热门的框架，像Pytorch，TensorFlow、MXNet等等，因为这些知识点很零散，也不是说一下子就能够全部碰到。最重要的，也是很容易忘记的，可能就是一些核心的算法，像本科学习的一些算法， 现在接触的有关ML、DL、CV的算法，这些也应该被当做是学习的重点，所以肯定会是一个长期的过程。</p><h4 id="2-2-论文"><a href="#2-2-论文" class="headerlink" title="2.2 论文"></a>2.2 论文</h4><p>这个方面自然是不用说了，每周都有专门的汇报工作，每周自己也会看一些论文的，这在研一上半年就做了，后期将会将相关的论文笔记进行一个整理，进行上传。</p><h4 id="2-3-项目"><a href="#2-3-项目" class="headerlink" title="2.3 项目"></a>2.3 项目</h4><p>这个方面是自己的薄弱的环节，本科做的项目不多，就那么三四个，后期修改后会将他们传到github上，当然包括自己毕业设计做的东西。研究生的话， 目前是想将平时自己做过的实验进行上传，包括超分辨率和目标检测相关的一些项目，我想，这对自己以后面试工作肯定也会是有用的吧，虽然还没有确定是继续深造还是研究生后就找工作。</p><h4 id="2-3-课程"><a href="#2-3-课程" class="headerlink" title="2.3 课程"></a>2.3 课程</h4><p>这方面，主要想记录的就是自己现在长期接触的，像机器学习，深度学习，数学的相关知识，当然也会包括自己平时看英语的一些总结吧。至于本科相关的课程，我只会选择性碰到了才会去记录一下，不太可能将他们再一一上传了。</p><h4 id="2-4-随笔"><a href="#2-4-随笔" class="headerlink" title="2.4 随笔"></a>2.4 随笔</h4><p>这个就是要看自己的心情了，大学之前，自己都一直有写日记的习惯，反倒是社交软件多了之后，反而很少写了，也就是偶尔会在空间里写写日志，毕竟有些私密性的东西，，，对吧！！不过这个我还在想，应该会设置一个权限，应该是有办法解决的。每一个开心和不开心的瞬间以后都会在这里一一呈现的。</p><h3 id="3、未来。。。"><a href="#3、未来。。。" class="headerlink" title="3、未来。。。"></a>3、未来。。。</h3><p>未来有点远，没想太多，，，想到了再来补充吧~~</p>]]></content>
      
      
      <categories>
          
          <category> 随笔 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 博客 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>你好 Hexo</title>
      <link href="/2019/01/07/sui-bi-hello-world/"/>
      <url>/2019/01/07/sui-bi-hello-world/</url>
      
        <content type="html"><![CDATA[<p>欢迎来到<a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! 这是我第一篇文章。检查<a href="https://hexo.io/docs/" target="_blank" rel="noopener">文献</a>会得到更多的信息。 如果你在使用Hexo的过程中遇到任何的问题，你可以在<a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a>中去寻找答案，也可以在<a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>论坛中咨询。</p><h2 id="快速上手"><a href="#快速上手" class="headerlink" title="快速上手"></a>快速上手</h2><h3 id="1、创建一个请求"><a href="#1、创建一个请求" class="headerlink" title="1、创建一个请求"></a>1、创建一个请求</h3><pre class="line-numbers language-bash"><code class="language-bash">$ hexo new <span class="token string">"My New Post"</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>更多信息: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p><h3 id="2、运行服务器"><a href="#2、运行服务器" class="headerlink" title="2、运行服务器"></a>2、运行服务器</h3><pre class="line-numbers language-bash"><code class="language-bash">$ hexo server<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>更多信息: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p><h3 id="3、产生静态文件"><a href="#3、产生静态文件" class="headerlink" title="3、产生静态文件"></a>3、产生静态文件</h3><pre class="line-numbers language-bash"><code class="language-bash">$ hexo generate<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>更多信息: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p><h3 id="4、部署到远程库"><a href="#4、部署到远程库" class="headerlink" title="4、部署到远程库"></a>4、部署到远程库</h3><pre class="line-numbers language-bash"><code class="language-bash">$ hexo deploy<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>更多信息: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>]]></content>
      
      
      <categories>
          
          <category> 随笔 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
